import{d as l}from"./chunk-WIQ2GNRF.js";import{F as n,R as r,W as o,jc as c,l as s,o as a}from"./chunk-RJHITLXH.js";var h=(()=>{class t{constructor(e){this.router=e}isBrowser(){return typeof window<"u"&&typeof localStorage<"u"}isAuthenticated(){if(!this.isBrowser())return!1;let e=localStorage.getItem("isAuthenticated"),i=localStorage.getItem("userEmail");return!i||i.trim()===""?(this.clearSession(),!1):e==="true"&&i!=null&&i.trim()!==""}login(e){localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",e)}logout(){this.isBrowser()&&(localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail")),this.router.navigate(["/auth/login"])}getUserEmail(){return this.isBrowser()?localStorage.getItem("userEmail"):null}clearSession(){this.isBrowser()&&localStorage.clear()}static{this.\u0275fac=function(i){return new(i||t)(o(l))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var w=(()=>{class t{constructor(e){this.messageService=e,this.sidebar=new s(!1),this.loading=new s(!1),this.sidebar$=this.sidebar.asObservable(),this.loading$=this.loading.asObservable()}showSideBar(){this.sidebar.next(!0)}hideSideBar(){this.sidebar.next(!1)}showLoading(){this.loading.next(!0)}hideLoading(){a(null).pipe(n(500)).subscribe(()=>{this.loading.next(!1)})}showToast(e,i,m){let u={success:"\xC9xito",error:"Error",warn:"Advertencia",info:"Informaci\xF3n"};this.messageService.add({key:"main",severity:i,summary:m||u[i],detail:e,life:3e3})}static{this.\u0275fac=function(i){return new(i||t)(o(c))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{h as a,w as b};
